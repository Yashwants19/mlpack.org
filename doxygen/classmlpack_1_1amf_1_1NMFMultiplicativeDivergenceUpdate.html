<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mlpack: mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacemlpack.html">mlpack</a>      </li>
      <li><a class="el" href="namespacemlpack_1_1amf.html">amf</a>      </li>
      <li><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html">mlpack::amf::NMFMultiplicativeDivergenceUpdate</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="mlpack::amf::NMFMultiplicativeDivergenceUpdate" -->
<p>This follows a method described in the paper 'Algorithms for Non-negative Matrix Factorization' by D.  
<a href="#_details">More...</a></p>

<p><a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a989aecc76d2b526557e030c7e63506ff">NMFMultiplicativeDivergenceUpdate</a> ()</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#ad9ea7ec06bfc7b69567854d6345fde4b">Initialize</a> (const MatType &amp;dataset, const size_t rank)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#abeb38821e2c2de10b1a7000ae382e889">HUpdate</a> (const MatType &amp;V, const arma::mat &amp;W, arma::mat &amp;H)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The update rule for the encoding matrix H.  <a href="#abeb38821e2c2de10b1a7000ae382e889"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a5dc755fd3c9a5b4d8c2aa218bdceb115">WUpdate</a> (const MatType &amp;V, arma::mat &amp;W, const arma::mat &amp;H)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The update rule for the basis matrix W.  <a href="#a5dc755fd3c9a5b4d8c2aa218bdceb115"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This follows a method described in the paper 'Algorithms for Non-negative Matrix Factorization' by D. </p>
<p>D. Lee and H. S. Seung. This is a multiplicative rule that ensures that the Kullbackâ€“Leibler divergence <img class="formulaInl" alt="$ \sum_i \sum_j (V_{ij} log\frac{V_{ij}}{(WH)_{ij}}-V_{ij}+(WH)_{ij}) $" src="form_53.png"/> is non-increasing between subsequent iterations. Both of the update rules for W and H are defined in this file.</p>
<p>This set of update rules is not meant to work with sparse matrices. Using sparse matrices often causes NaNs in the output, so other choices of update rules are better in that situation. </p>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00034">34</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a989aecc76d2b526557e030c7e63506ff"></a><!-- doxytag: member="mlpack::amf::NMFMultiplicativeDivergenceUpdate::NMFMultiplicativeDivergenceUpdate" ref="a989aecc76d2b526557e030c7e63506ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mlpack::amf::NMFMultiplicativeDivergenceUpdate::NMFMultiplicativeDivergenceUpdate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00038">38</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abeb38821e2c2de10b1a7000ae382e889"></a><!-- doxytag: member="mlpack::amf::NMFMultiplicativeDivergenceUpdate::HUpdate" ref="abeb38821e2c2de10b1a7000ae382e889" args="(const MatType &amp;V, const arma::mat &amp;W, arma::mat &amp;H)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::HUpdate </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&nbsp;</td>
          <td class="paramname"> <em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>H</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The update rule for the encoding matrix H. </p>
<p>The formula used is </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ H_{a\mu} \leftarrow H_{a\mu} \frac{\sum_{i} W_{ia} V_{i\mu}/(WH)_{i\mu}} {\sum_{k} H_{ka}} \]" src="form_55.png"/>
</p>
<p> The function takes in all the matrices and only changes the value of the H matrix.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>V</em>&nbsp;</td><td>Input matrix to be factorized. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>W</em>&nbsp;</td><td>Basis matrix. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>H</em>&nbsp;</td><td>Encoding matrix to updated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00103">103</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad9ea7ec06bfc7b69567854d6345fde4b"></a><!-- doxytag: member="mlpack::amf::NMFMultiplicativeDivergenceUpdate::Initialize" ref="ad9ea7ec06bfc7b69567854d6345fde4b" args="(const MatType &amp;dataset, const size_t rank)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void mlpack::amf::NMFMultiplicativeDivergenceUpdate::Initialize </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&nbsp;</td>
          <td class="paramname"> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>rank</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00041">41</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5dc755fd3c9a5b4d8c2aa218bdceb115"></a><!-- doxytag: member="mlpack::amf::NMFMultiplicativeDivergenceUpdate::WUpdate" ref="a5dc755fd3c9a5b4d8c2aa218bdceb115" args="(const MatType &amp;V, arma::mat &amp;W, const arma::mat &amp;H)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::WUpdate </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&nbsp;</td>
          <td class="paramname"> <em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>H</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The update rule for the basis matrix W. </p>
<p>The formula used is </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ W_{ia} \leftarrow W_{ia} \frac{\sum_{\mu} H_{a\mu} V_{i\mu}/(WH)_{i\mu}} {\sum_{\nu} H_{a\nu}} \]" src="form_54.png"/>
</p>
<p> The function takes in all the matrices and only changes the value of the W matrix.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>V</em>&nbsp;</td><td>Input matrix to be factorized. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>W</em>&nbsp;</td><td>Basis matrix to be updated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>H</em>&nbsp;</td><td>Encoding matrix. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00061">61</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mlpack/methods/amf/update_rules/<a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 7 2015 13:07:09 for mlpack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
