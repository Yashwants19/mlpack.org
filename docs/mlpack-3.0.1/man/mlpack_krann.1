.\" Text automatically generated by txt2man
.TH mlpack_krann 1 "10 May 2018" "mlpack-git-e21aabc1c" "User Commands"
.SH NAME
\fBmlpack_krann \fP- k-rank-approximate-nearest-neighbors (krann)
.SH SYNOPSIS
.nf
.fam C
 \fBmlpack_krann\fP [\fB-a\fP \fIdouble\fP] [\fB-X\fP \fIbool\fP] [\fB-m\fP \fIunknown\fP] [\fB-k\fP \fIint\fP] [\fB-l\fP \fIint\fP] [\fB-N\fP \fIbool\fP] [\fB-q\fP \fIstring\fP] [\fB-R\fP \fIbool\fP] [\fB-r\fP \fIstring\fP] [\fB-L\fP \fIbool\fP] [\fB-s\fP \fIint\fP] [\fB-S\fP \fIbool\fP] [\fB-z\fP \fIint\fP] [\fB-T\fP \fIdouble\fP] [\fB-t\fP \fIstring\fP] [\fB-V\fP \fIbool\fP] [\fB-d\fP \fIstring\fP] [\fB-n\fP \fIstring\fP] [\fB-M\fP \fIunknown\fP] [\fB-h\fP \fB-v\fP] 
.fam T
.fi
.fam T
.fi
.SH DESCRIPTION


This program will calculate the k rank-approximate-nearest-neighbors of a set
of points. You may specify a separate set of reference points and query
points, or just a reference set which will be used as both the reference and
query set. You must specify the rank approximation (in %) (and optionally the
success probability).
.PP
For example, the following will return 5 neighbors from the top 0.1% of the
data (with probability 0.95) for each point in 'input.csv' and store the
distances in 'distances.csv' and the neighbors in the file 'neighbors.csv':
.PP
$ allkrann \fB-k\fP 5 \fB-r\fP input.csv \fB-d\fP distances.csv \fB-n\fP neighbors.csv \fB--tau\fP 0.1
.PP
Note that tau must be set such that the number of points in the corresponding
percentile of the data is greater than k. Thus, if we choose tau = 0.1 with a
dataset of 1000 points and k = 5, then we are attempting to choose 5 nearest
neighbors out of the closest 1 point -- this is invalid and the program will
terminate with an error message.
.PP
The output files are organized such that row i and column j in the neighbors
output file corresponds to the index of the point in the reference set which
is the i'th nearest neighbor from the point in the query set with index j. 
Row i and column j in the distances output file corresponds to the distance
between those two points.
.RE
.PP

.SH OPTIONAL INPUT OPTIONS 

.TP
.B
\fB--alpha\fP (\fB-a\fP) [\fIdouble\fP]
The desired success probability. Default value 0.95. 
.TP
.B
\fB--first_leaf_exact\fP (\fB-X\fP) [\fIbool\fP]
The flag to trigger sampling only after exactly exploring the first leaf. 
.TP
.B
\fB--help\fP (\fB-h\fP) [\fIbool\fP]
Default help info. 
.TP
.B
\fB--info\fP [\fIstring\fP]
Get help on a specific module or option.  Default value ''. 
.TP
.B
\fB--input_model_file\fP (\fB-m\fP) [\fIunknown\fP]
Pre-trained kNN model. Default value ''. 
.TP
.B
\fB--k\fP (\fB-k\fP) [\fIint\fP]
Number of nearest neighbors to find. Default value 0. 
.TP
.B
\fB--leaf_size\fP (\fB-l\fP) [\fIint\fP]
Leaf size for tree building (used for kd-trees, UB trees, R trees, R* trees, X trees, Hilbert R trees, R+ trees, R++ trees, and octrees).  Default value 20. 
.TP
.B
\fB--naive\fP (\fB-N\fP) [\fIbool\fP]
If true, sampling will be done without using a tree. 
.TP
.B
\fB--query_file\fP (\fB-q\fP) [\fIstring\fP]
Matrix containing query points (optional).  Default value ''. 
.TP
.B
\fB--random_basis\fP (\fB-R\fP) [\fIbool\fP]
Before tree-building, project the data onto a random orthogonal basis. 
.TP
.B
\fB--reference_file\fP (\fB-r\fP) [\fIstring\fP]
Matrix containing the reference dataset.  Default value ''. 
.TP
.B
\fB--sample_at_leaves\fP (\fB-L\fP) [\fIbool\fP]
The flag to trigger sampling at leaves. 
.TP
.B
\fB--seed\fP (\fB-s\fP) [\fIint\fP]
Random seed (if 0, \fBstd::time\fP(NULL) is used).  Default value 0. 
.TP
.B
\fB--single_mode\fP (\fB-S\fP) [\fIbool\fP]
If true, single-tree search is used (as opposed to dual-tree search. 
.TP
.B
\fB--single_sample_limit\fP (\fB-z\fP) [\fIint\fP]
The limit on the maximum number of samples (and hence the largest node you can approximate).  Default value 20. 
.TP
.B
\fB--tau\fP (\fB-T\fP) [\fIdouble\fP]
The allowed rank-error in terms of the percentile of the data. Default value 5. 
.TP
.B
\fB--tree_type\fP (\fB-t\fP) [\fIstring\fP]
Type of tree to use: 'kd', 'ub', 'cover', 'r', 'x', 'r-star', 'hilbert-r', 'r-plus', 'r-plus-plus', 'oct'. Default value 'kd'. 
.TP
.B
\fB--verbose\fP (\fB-v\fP) [\fIbool\fP]
Display informational messages and the full list of parameters and timers at the end of execution. 
.TP
.B
\fB--version\fP (\fB-V\fP) [\fIbool\fP]
Display the version of mlpack.  
.SH OPTIONAL OUTPUT OPTIONS 

.TP
.B
\fB--distances_file\fP (\fB-d\fP) [\fIstring\fP]
Matrix to output distances into. Default value ''. 
.TP
.B
\fB--neighbors_file\fP (\fB-n\fP) [\fIstring\fP]
Matrix to output neighbors into. Default value ''. 
.TP
.B
\fB--output_model_file\fP (\fB-M\fP) [\fIunknown\fP]
If specified, the kNN model will be output here. Default value ''.
.SH ADDITIONAL INFORMATION

For further information, including relevant papers, citations, and theory,
consult the documentation found at http://www.mlpack.org or included with your
distribution of mlpack.
